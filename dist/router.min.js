!function(h){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=h();else if("function"==typeof define&&define.amd)define([],h);else{var b;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self);b.router=h()}}(function(){return function b(e,f,g){function k(c,a){if(!f[c]){if(!e[c]){var d="function"==typeof require&&require;if(!a&&d)return d(c,!0);if(l)return l(c,!0);throw Error("Cannot find module '"+c+"'");}d=f[c]={exports:{}};
e[c][0].call(d.exports,function(a){var d=e[c][1][a];return k(d?d:a)},d,d.exports,b,e,f,g)}return f[c].exports}for(var l="function"==typeof require&&require,a=0;a<g.length;a++)k(g[a]);return k}({1:[function(b,e,f){e.exports=function(g,b){var e=b.Router.extend({routes:{},execute:function(){if(g.isObject(this.currentPage))if(g.isFunction(this.currentPage.close))try{this.currentPage.close()}catch(a){console.error("Routerer: Error trying to close ",this.currentPage),console.error(a)}else console.warn("Page has no `close` method!");
b.Router.prototype.execute.apply(this,arguments)}});extractUrlParams=function(a){var c={};null===a&&(a="");g.each(a.split("&"),function(a){pair=a.split("=");c[pair[0]]=1==pair.length?void 0:pair[1]||null});return c};extractUrlData=function(a,c){var b,d,e={},f=a.split("/");null===a&&(a="");null===c&&(c=[]);f=g.select(f,function(a){return":"==a[0]});g.each(f,function(a,d){var b=a.slice(1);e[b]=c[d]});f.length+1==c.length?(b=c.slice(-1).pop(),d=extractUrlParams(b)):f.length+1<c.length&&console.warn("Routerer: Assumptions violated. Please report pattern and path to https://github.com/will-ob/routerer/issues");
return{args:e,urlParams:d||[],urlParamsStr:b||null}};e.addRoute=function(a,c){var b=g.uniqueId("handler");if(!c.prototype.close)throw Error("Page must have a close method");this.prototype.routes[a]=b;this.prototype[b]=function(){var b;b=extractUrlData(a,Array.prototype.slice.apply(arguments));b.router=this;b.el=document.getElementById("page");this.currentPage=new c(b)}};return e}},{}]},{},[1])(1)});
