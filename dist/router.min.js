!function(h){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=h();else if("function"==typeof define&&define.amd)define([],h);else{var b;"undefined"!=typeof window?b=window:"undefined"!=typeof global?b=global:"undefined"!=typeof self&&(b=self);b.router=h()}}(function(){return function b(e,g,f){function k(a,c){if(!g[a]){if(!e[a]){var d="function"==typeof require&&require;if(!c&&d)return d(a,!0);if(l)return l(a,!0);throw Error("Cannot find module '"+a+"'");}d=g[a]={exports:{}};
e[a][0].call(d.exports,function(d){var c=e[a][1][d];return k(c?c:d)},d,d.exports,b,e,g,f)}return g[a].exports}for(var l="function"==typeof require&&require,c=0;c<f.length;c++)k(f[c]);return k}({1:[function(b,e,g){e.exports=function(f,b){var e=b.Router.extend({routes:{},execute:function(){f.isObject(this.currentPage)&&(f.isFunction(this.currentPage.close)?this.currentPage.close():console.warn("Page has no `close` method!"));b.Router.prototype.execute.apply(this,arguments)}});extractArguments=function(c,
a){var b={},d=c.split("/");null===c&&(c="");null===a&&(a=[]);d=f.select(d,function(a){return":"==a[0]});f.each(d,function(d,c){var e=d.slice(1);b[e]=a[c];/\w+=\w+(\&\w+=\w+)*/g.test(a[c])?(querys=null!=(_ref=a[c])?_ref.split("&"):null,b[e]={},f.each(querys,function(a){key_val=a.split("=");b[e][key_val[0]]=key_val[1]})):b[e]=a[c]});return b};e.addRoute=function(c,a){var b=f.uniqueId("handler");if(!a.prototype.close)throw Error("Page must have a close method");this.prototype.routes[c]=b;this.prototype[b]=
function(){var b=extractArguments(c,Array.prototype.slice.apply(arguments));this.currentPage=new a({el:document.getElementById("page"),router:this,args:b})}};return e}},{}]},{},[1])(1)});
